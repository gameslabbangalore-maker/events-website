<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Games Lab</title>
  <link rel="icon" href="Games Lab Logo.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#181818" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <!-- Fonts + PapaParse -->
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

  <style>
    :root {
      --bg: #121212;
      --card-bg: #1e1e1e;
      --text-main: #e5e5e5;
      --text-dim: #aaa;
      --accent: #ffb347;
      --divider: #333;
      --radius: 16px;
      --shadow: 0 4px 14px rgba(0,0,0,0.5);
    }

    body {
      margin: 0;
      font-family: "Comfortaa", sans-serif;
      background: var(--bg);
      color: var(--text-main);
      line-height: 1.6;
    }

    /* Topbar */
    .topbar-bleed {
      background: var(--card-bg);
      height: env(safe-area-inset-top);
    }
    .topbar {
      position: fixed;
      top: env(safe-area-inset-top);
      left: 0;
      right: 0;
      background: var(--card-bg);
      box-shadow: var(--shadow);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 18px;
    }
    .topbar-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .topbar .logo {
      height: 36px;
      border-radius: 50%;
    }
    .topbar .brand {
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--accent);
    }
    .topbar-spacer {
      height: 64px;
    }

    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 18px;
    }

    /* Divider + titles */
    .divider {
      height: 1px;
      background: var(--divider);
      margin: 40px 0;
    }
    .top-divider {
      height: 2px;
      background: var(--accent);
      margin: 10px 0 30px;
    }
    .title h2 {
      font-size: 1.8rem;
      color: var(--accent);
      margin: 0 0 20px;
      text-align: center;
    }

    /* Animated heading text */
    .animated-wrapper {
      text-align: center;
      margin: 30px 0;
    }
    .animated-text {
      font-size: 1.3rem;
      color: var(--text-dim);
      animation: fadeIn 1.2s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Cards grid */
    .cards-row {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 20px;
    }
    .card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
    }
    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    .card-body {
      padding: 16px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .card-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin: 0 0 10px;
      color: var(--text-main);
    }
    .card-date,
    .card-location {
      font-size: 0.9rem;
      color: var(--text-dim);
      margin: 2px 0;
    }
    .card button {
      margin-top: auto;
      background: var(--accent);
      border: none;
      padding: 10px;
      border-radius: 10px;
      font-weight: 700;
      color: #000;
      cursor: pointer;
      transition: background 0.2s;
    }
    .card button:hover {
      background: #ff9f1c;
    }

    /* About Us Section */
    .about-section {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 18px;
      box-sizing: border-box;
      text-align: justify;
      line-height: 1.7;
      font-size: 1.05rem;
      color: var(--text-main);
      white-space: pre-line;
      opacity: 0;
      transform: translateY(15px);
      animation: fadeUp 1.2s ease forwards;
    }
    .about-section h2 {
      text-align: center;
      color: var(--accent);
      font-size: 1.9rem;
      margin-bottom: 22px;
      font-weight: 700;
    }
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @media (max-width:768px){
      .about-section {
        font-size: 0.95rem;
        padding: 28px 14px;
      }
      .about-section h2 {
        font-size: 1.4rem;
        margin-bottom: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="topbar-bleed" aria-hidden="true"></div>
  <header class="topbar" role="banner">
    <div class="topbar-left">
      <img src="https://ik.imagekit.io/gameslab/tr:w-36,q-100,f-auto/Games_Lab_Logo.png" alt="Games Lab Logo" class="logo" />
      <span class="brand">Games Lab</span>
    </div>
  </header>
  <div class="topbar-spacer" aria-hidden="true"></div>

  <main class="wrap" role="main">
    <!-- Divider below topbar -->
    <div class="top-divider" aria-hidden="true"></div>

    <div class="animated-wrapper" aria-live="polite">
      <div class="animated-text">Discover fun, games & experiences with us!</div>
    </div>

    <div class="divider"></div>
    <div class="title"><h2>Upcoming Events</h2></div>
    <div id="events" class="cards-row" aria-live="polite"></div>

    <div class="divider" style="margin-top: 40px;"></div>
    <div class="title" style="margin-top:40px;"><h2>Explore Our Other Events</h2></div>
    <div id="explore-cards" class="cards-row"></div>

    <!-- About Us Section -->
    <div class="divider" style="margin-top:40px;"></div>
    <section class="about-section">
      <h2>About Us</h2>
      Games Lab is a group of fun loving people organizing fun events throughout the year. We aim to make life happier and lighter for all who join us. We strive for unique experiences, memorable time, and widest smiles.

      Games Lab uses innovative ideas and curates the best social experiences for people. We give unique twists to world renowned games and help people stay happening.

      Instead of the typical alcohol-focused gatherings, we bring people together through the joy of fun events and workshops. Whether itâ€™s Mafia, Game Night, Interactive Challenges or Workshops, this community creates a fun and inclusive environment where everyone can relax and connect.

      Say goodbye to the bar scene and hello to laughter, camaraderie, and friendly competition. At our events discover a refreshing alternative to traditional socializing, where friendships take center stage and lasting memories are made.
    </section>
    <div class="divider"></div>
  </main>

  <script>
    // Example script to load events via PapaParse
    const eventsContainer = document.getElementById("events");
    const exploreContainer = document.getElementById("explore-cards");

    Papa.parse("https://docs.google.com/spreadsheets/d/e/2PACX-1vSAMPLE/pub?output=csv", {
      download: true,
      header: true,
      complete: function(results) {
        results.data.forEach(event => {
          // Upcoming Events
          if (event.type === "upcoming") {
            const card = createEventCard(event, true);
            eventsContainer.appendChild(card);
          }
          // Explore Events
          if (event.type === "explore") {
            const card = createEventCard(event, false);
            exploreContainer.appendChild(card);
          }
        });
      }
    });

    function createEventCard(event, isUpcoming) {
      const card = document.createElement("div");
      card.className = "card";

      const img = document.createElement("img");
      img.src = event.image || "https://via.placeholder.com/400x200?text=Event";
      img.alt = event.name;
      card.appendChild(img);

      const body = document.createElement("div");
      body.className = "card-body";

      const title = document.createElement("div");
      title.className = "card-title";
      title.textContent = event.name;
      body.appendChild(title);

      if (event.date) {
        const date = document.createElement("div");
        date.className = "card-date";
        date.textContent = event.date;
        body.appendChild(date);
      }

      if (event.location) {
        const loc = document.createElement("div");
        loc.className = "card-location";
        loc.textContent = event.location;
        body.appendChild(loc);
      }

      const btn = document.createElement("button");
      btn.textContent = isUpcoming ? "Book Now" : "Learn More";
      btn.onclick = () => window.open(event.link, "_blank");
      body.appendChild(btn);

      card.appendChild(body);
      return card;
    }
  </script>
</body>
</html>
