<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Games Lab</title>
  <link rel="icon" href="Games Lab Logo.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#181818" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <style>
    :root {
      --bg: #181818;
      --card: #212121;
      --muted: #d0d0d0;
      --accent: #fce029;
      --datebox: #303030;
      --text-main: #fff;
      --topbar-height-desktop: 58px;
      --topbar-height-mobile: 48px;
      --animated-height-desktop: 150px;
      --animated-height-mobile: 80px;
      --line-height-desktop: 1.4;
      --line-height-mobile: 1.5;
      --animated-font-size-max: 1.6rem;
      --animated-font-size-min: 1rem;
      --card-height-mobile-base: 80px;
    }
    body {
      background: var(--bg);
      color: var(--text-main);
      font-family:'Comfortaa',cursive;
    }
    html,body{ margin:0; height:100%; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    .topbar {
      position: fixed;
      top:0; left:0; right:0;
      height: var(--topbar-height-desktop);
      background: var(--card);
      display:flex; align-items:center;
      padding:0 20px;
      z-index:1000;
    }
    .topbar-left { display:flex; align-items:center; gap:10px; }
    .logo { height:34px; border-radius:50%; }
    .brand { font-size:1.2rem; font-weight:700; color:var(--accent); }
    .topbar-spacer { height: var(--topbar-height-desktop); }

    .topbar-bleed {
      background: var(--card);
      height: env(safe-area-inset-top);
    }

    .wrap { max-width:1200px; margin:0 auto; padding:0 18px; }
    .divider {
      height:1px;
      background:#333;
      margin:40px 0;
    }
    .top-divider {
      height:2px;
      background: var(--accent);
      margin:10px 0 30px;
    }
    .title h2 {
      text-align:center;
      font-size:1.8rem;
      color: var(--accent);
      margin:0 0 20px;
    }

    .animated-wrapper { text-align:center; margin:30px 0; }
    .animated-text { font-size:1.3rem; color: var(--muted); white-space:pre-line; }

    .cards-row {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
      gap:20px;
    }
    .card {
      background: var(--card);
      border-radius:12px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      box-shadow:0 4px 14px rgba(0,0,0,0.5);
      transition:transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover { transform:translateY(-4px); box-shadow:0 6px 18px rgba(0,0,0,0.6); }
    .card img { width:100%; height:180px; object-fit:cover; }
    .card-body { padding:16px; flex:1; display:flex; flex-direction:column; }
    .card-title { font-size:1.1rem; font-weight:700; margin:0 0 10px; }
    .card-date, .card-location { font-size:0.9rem; color: var(--muted); margin:2px 0; }
    .card button {
      margin-top:auto;
      background: var(--accent);
      border:none;
      padding:10px;
      border-radius:10px;
      font-weight:700;
      color:#000;
      cursor:pointer;
    }
    .card button:hover { background:#ffdb1c; }

    /* About Section */
    .about-section {
      max-width: 950px;
      margin: 50px auto;
      padding: 28px 22px;
      border-radius: 14px;
      background: var(--card);
      box-shadow: 0 6px 22px rgba(0,0,0,0.65);
      text-align: center;
      opacity: 0;
      transform: translateY(25px);
      transition: opacity 1s ease, transform 1s ease;
    }
    .about-section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .about-section h2 {
      color: var(--accent);
      font-size: 1.9rem;
      margin-bottom: 16px;
    }
    .about-section p {
      font-size: 1.05rem;
      color: var(--muted);
      line-height: 1.6;
      margin: 0 auto;
      max-width: 720px;
      white-space: pre-line;
    }
    @media (max-width:768px){
      .about-section { padding:20px 16px; margin:35px 12px; }
      .about-section h2 { font-size:1.4rem; }
      .about-section p { font-size:0.95rem; }
    }
  </style>
</head>
<body>
  <div class="topbar-bleed" aria-hidden="true"></div>
  <header class="topbar" role="banner">
    <div class="topbar-left">
      <img src="https://ik.imagekit.io/gameslab/tr:w-36,q-100,f-auto/Games_Lab_Logo.png" alt="Games Lab Logo" class="logo" />
      <span class="brand">Games Lab</span>
    </div>
  </header>
  <div class="topbar-spacer" aria-hidden="true"></div>

  <main class="wrap" role="main">
    <div class="top-divider" aria-hidden="true"></div>

    <div class="animated-wrapper" aria-live="polite">
      <div class="animated-text"></div>
    </div>
    <div class="divider" aria-hidden="true"></div>

    <div class="title"><h2>Upcoming Events</h2></div>
    <div id="events" class="cards-row" aria-live="polite"></div>

    <div class="divider" style="margin-top: 40px;"></div>
    <div class="title" style="margin-top:40px;"><h2>Explore Our Other Events</h2></div>
    <div id="explore-cards" class="cards-row"></div>

    <div class="divider" style="margin-top:40px;"></div>
    <section class="about-section" id="about">
      <h2>About Games Lab</h2>
      <p>
Games Lab is a group of fun loving people organizing fun events throughout the year. We aim to make life happier and lighter for all who join us. We strive for unique experiences, memorable time, and widest smiles.

Games Lab uses innovative ideas and curates the best social experiences for people. We give unique twists to world renowned games and help people stay happening.

Instead of the typical alcohol-focused gatherings, we bring people together through the joy of fun events and workshops. Whether itâ€™s Mafia, Game Night, Interactive Challenges or Workshops, this community creates a fun and inclusive environment where everyone can relax and connect.

Say goodbye to the bar scene and hello to laughter, camaraderie, and friendly competition. At our events discover a refreshing alternative to traditional socializing, where friendships take center stage and lasting memories are made.
      </p>
    </section>
    <div class="divider"></div>
  </main>

  <script>
    const lines = [
      'IF "HOW TO HAVE A GOOD TIME ?"','IS THE QUESTION,','WE ARE THE ANSWER'
    ];
    const msg = lines.join('\n');
    const animatedTextElem = document.querySelector('.animated-text');
    let charIndex = 0, isDeleting = false;
    const delay = 55, pauseBetween = 2600;
    function type() {
      if (!isDeleting) {
        animatedTextElem.textContent = msg.substring(0, charIndex + 1);
        charIndex++;
        if (charIndex === msg.length) { isDeleting = true; setTimeout(type, pauseBetween); return; }
      } else {
        animatedTextElem.textContent = msg.substring(0, charIndex - 1);
        charIndex--;
        if (charIndex === 0) isDeleting = false;
      }
      setTimeout(type, isDeleting ? delay/2 : delay);
    }
    animatedTextElem.textContent = msg;
    setTimeout(type, pauseBetween);
  </script>

  <script>
    // Upcoming Events
    const eventsContainer = document.getElementById("events");
    Papa.parse("upcoming.csv", {
      download:true, header:true,
      complete: function(results){
        results.data.forEach(event => {
          if(event.name){
            const card = document.createElement("div");
            card.className = "card";
            card.innerHTML = `
              <img src="${event.image}" alt="${event.name}" />
              <div class="card-body">
                <div class="card-title">${event.name}</div>
                <div class="card-date">${event.date}</div>
                <div class="card-location">${event.location}</div>
                <button onclick="window.open('${event.link}','_blank')">Book Now</button>
              </div>
            `;
            eventsContainer.appendChild(card);
          }
        });
      }
    });
  </script>

  <script>
    // Explore Events
    const exploreContainer = document.getElementById("explore-cards");
    Papa.parse("explore.csv", {
      download:true, header:true,
      complete: function(results){
        results.data.forEach(event => {
          if(event.name){
            const card = document.createElement("div");
            card.className = "card";
            card.innerHTML = `
              <img src="${event.image}" alt="${event.name}" />
              <div class="card-body">
                <div class="card-title">${event.name}</div>
                <button onclick="window.open('${event.link}','_blank')">Learn More</button>
              </div>
            `;
            exploreContainer.appendChild(card);
          }
        });
      }
    });
  </script>

  <script>
    // Fade-in About section
    document.addEventListener("DOMContentLoaded", () => {
      const about = document.querySelector(".about-section");
      const observer = new IntersectionObserver(entries=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            about.classList.add("visible");
            observer.unobserve(about);
          }
        });
      }, {threshold:0.2});
      if(about) observer.observe(about);
    });
  </script>
</body>
</html>
