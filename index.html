<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Events</title>
<style>
:root {
  --card: #1c1c1c;
  --datebox: #2a2a2a;
  --muted: #999;
  --accent: #ffcc00;
}

/* ---------- Global Card Styles ---------- */
.card {
  width: 340px;
  background: var(--card);
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 6px 22px rgba(0,0,0,0.8);
  transition: transform 0.16s ease, box-shadow 0.16s ease;
}
.card:hover {
  transform: translateY(-6px);
  box-shadow: 0 10px 28px rgba(0,0,0,0.9);
}

.media {
  width: 100%;
  padding-top: 56.25%; /* 16:9 ratio */
  position: relative;
}
.media img {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
}

.card-body {
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.event-title {
  font-size: 17px;
  font-weight: 700;
  margin: 0;
}
.meta,
.location,
.event-tagline {
  font-size: 14px;
  color: var(--muted);
}

.card-footer {
  padding: 12px 14px 18px;
  display: flex;
  justify-content: center;
}

/* ---------- Buttons ---------- */
.button-primary,
.button-secondary {
  padding: 8px 18px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
  text-decoration: none;
  transition: background 0.2s ease;
}
.button-primary {
  background: var(--accent);
  color: #000;
}
.button-primary:hover {
  background: #ffdb4d;
}
.button-secondary {
  background: #333;
  color: #fff;
}
.button-secondary:hover {
  background: #444;
}

/* ---------- Mobile Layout ---------- */
@media (max-width:768px){
  .card {
    flex-direction: row;
    align-items: center;
    width: 92vw;
    max-width: 420px;
    padding: 12px;
    gap: 10px;
  }

  .media {
    width: 72px;
    height: 72px;
    padding-top: 0;
    border-radius: 10px;
    overflow: hidden;
    flex-shrink: 0;
  }
  .media img {
    position: static;
    width: 100%;
    height: 100%;
  }

  .card-body {
    padding: 0;
    gap: 4px;
  }
  .event-title {
    font-size: clamp(14px, 4vw, 17px);
    font-weight: 800;
  }
  .meta,
  .location {
    display: none;
  }

  .mobile-info {
    display: block;
    font-size: clamp(11px, 3.2vw, 13px);
    color: var(--muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .card-date {
    display: flex;
    width: 64px;
    height: 64px;
    border-radius: 10px;
    background: var(--datebox);
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 12px;
  }
  .card-date .day {
    font-size: clamp(20px, 6vw, 26px);
    font-weight: 700;
    color: var(--accent);
  }
  .card-date .month {
    font-size: clamp(12px, 3vw, 14px);
  }

  .card-footer {
    display: none;
  }
}
</style>
</head>
<body>

<div id="upcoming-container"></div>
<div id="explore-container"></div>
<div id="past-container"></div>

<script>
// Example: replace with your actual sheet fetch
const sampleData = [
  { Event:"Music Night", Scheduled:"yes", "Image Links":"https://via.placeholder.com/600x400", "Page Link":"#", Date:"Fri, 12 Sep '25" },
  { Event:"Art Expo", Scheduled:"no", "Image Links":"https://via.placeholder.com/600x400", "Page Link":"#", Date:"Sat, 20 Sep '25" },
  { Event:"Theatre Play", Scheduled:"past", "Image Links":"https://via.placeholder.com/600x400", "Page Link":"#", Date:"Sun, 1 Sep '25" }
];

const upcomingContainer = document.getElementById("upcoming-container");
const exploreContainer = document.getElementById("explore-container");
const pastContainer = document.getElementById("past-container");

// Track upcoming names
window.upcomingEventNames = new Set(sampleData.filter(e => e.Scheduled==="yes").map(e=>e.Event.trim()));

sampleData.forEach(event => {
  const name = event.Event.trim();
  const scheduled = event.Scheduled.trim().toLowerCase();

  // Build card
  const card = document.createElement("div");
  card.className = "card";

  card.innerHTML = `
    <div class="media">
      <img src="${event['Image Links']}" alt="${name}" loading="lazy" />
    </div>
    <div class="card-body">
      <h5 class="event-title">${name}</h5>
      <div class="meta">${event.Date}</div>
      <div class="location">Location TBD</div>
      <div class="event-tagline">An amazing event awaits!</div>
      <div class="mobile-info">${event.Date} â€¢ Location TBD</div>
    </div>
    <div class="card-date">
      <div class="day">${event.Date.split(",")[1].trim().split(" ")[0]}</div>
      <div class="month">${event.Date.split(" ")[1]}</div>
    </div>
    <div class="card-footer">
      ${scheduled==="no" 
        ? `<a href="${event['Page Link']}" target="_blank" rel="noopener noreferrer" class="button-secondary hidden md:inline-flex">Learn More</a>` 
        : `<a href="${event['Page Link']}" target="_blank" rel="noopener noreferrer" class="button-primary">Book Now</a>`
      }
    </div>
  `;

  // Mobile tap-to-open (for Explore only)
  if (scheduled==="no") {
    card.addEventListener("click", e => {
      if (window.innerWidth <= 768 && !e.target.closest("a")) {
        window.open(event["Page Link"], "_blank");
      }
    });
  }

  // Append to correct container
  if (scheduled==="yes") {
    upcomingContainer.appendChild(card);
  } else if (scheduled==="no" && !window.upcomingEventNames.has(name)) {
    exploreContainer.appendChild(card);
  } else if (scheduled==="past") {
    pastContainer.appendChild(card);
  }
});
</script>

</body>
</html>
